generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    // url      = env("DATABASE_URL")
    url      = "file:./dev.db"
}

model Role {
    id       String   @id @default(cuid())
    pic      String
    name     String
    about    String
    cv       String
    role     String
    linkedin String?
    x        String?
    phrases  Phrase[]
    team     String
}

model Phrase {
    id          String @id @default(cuid())
    title       String
    description String
    roleId      String
    Role        Role   @relation(fields: [roleId], references: [id])
}

model News {
    id               String   @id @default(cuid())
    title            String
    shortDescription String
    content          String
    postDate         DateTime
    poster           String
    link             String
    slug             String
    image            String
    sponsor          Boolean?
}

// model Department {
//     id          String   @id @default(cuid())
//     name        String
//     description String
//     image       String
//     courses     Course[]
// }

// model Course {
//     id              String     @id @default(cuid())
//     title           String
//     shortDetail     String?
//     longDescription String?
//     duration        Int
//     level           String
//     slug            String
//     courseCover     String
//     departmentId    String    
//     department      Department @relation(fields: [departmentId], references: [id])
//     shiftId         String?   
//     shift           String?
//     benefits        String[]
//     years           Year[]
// }

model Year {
    id        String     @id @default(cuid())
    year      Int
    courseId  String
    course    Course     @relation(fields: [courseId], references: [id])
    semesters Semester[]
}

// model Semester {
//     id       String    @id @default(cuid())
//     semester Int
//     yearId   String   
//     year     Year      @relation(fields: [yearId], references: [id])
//     subjects Subject[]
// }
// model Subject {
//     id         String   @id @default(cuid())
//     name       String
//     workload   Int
//     semesterId String  
//     semester   Semester @relation(fields: [semesterId], references: [id])
// }

model Application {
    id        String   @id @default(cuid())
    name      String
    email     String
    phone     String
    birthDate DateTime
    course    String
    interest  String
    date      DateTime
}

model Event {
    id              String   @id @default(cuid())
    title           String
    description     String
    longDescription String
    date            DateTime
    category        String
    imageUrl        String
    isFeatured      Boolean
    slug            String
    place           String
}

model Department {
    id                 String   @id @default(cuid())
    name               String
    catalog_link       String?
    department_cover   String?
    departmentDirector Director @relation(fields: [directorId], references: [id])
    courses            Course[]
    directorId         String
}

model Director {
    id         String       @id @default(cuid())
    name       String?
    picture    String?
    Department Department[]
}

model Course {
    id               String       @id @default(cuid())
    name             String
    duration         String
    level            String
    short_detail     String
    slug             String
    long_description String
    benefits         String
    shift_afternoon  Boolean?
    shift_morning    Boolean?
    shift_evening    Boolean?
    course_cover     String
    yearDetails      YearDetail[]
    departmentId     String
    department       Department   @relation(fields: [departmentId], references: [id])
    shiftId          String?
    // Department      Department   @relation(fields: [departmentId], references: [id])
    Year             Year[]
}

model YearDetail {
    id        String     @id @default(cuid())
    year      Int
    semesters Semester[]
    courseId  String
    Course    Course     @relation(fields: [courseId], references: [id])
}

model Semester {
    id           String     @id @default(cuid())
    semester     Int
    subjects     Subject[]
    yearDetailId String
    YearDetail   YearDetail @relation(fields: [yearDetailId], references: [id])
    Year         Year?      @relation(fields: [yearId], references: [id])
    yearId       String?
}

model Subject {
    id         String   @id @default(cuid())
    name       String
    workload   Int
    semesterId String
    Semester   Semester @relation(fields: [semesterId], references: [id])
}
